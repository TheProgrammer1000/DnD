<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulär</title>
</head>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    h2 {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
    }

    form {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        background: #ffffff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        gap: 10px;
        max-width: 800px;
    }

    .form-group {
        flex-basis: calc(50% - 20px); /* Adjust based on preference */
        display: flex;
        flex-direction: column;
    }

    label {
        margin-bottom: 5px;
        color: #333;
    }

    input[type="text"],
    input[type="number"] {
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ddd;
        width: 100%;
    }

    input[type="submit"] {
        flex-basis: 100%;
        background-color: #5cb85c;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 20px;
    }

    input[type="submit"]:hover {
        background-color: #4cae4c;
    }

    a {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-size: 16px;
        margin-top: 20px;
        transition: background-color 0.3s ease;
    }

    a:hover {
        background-color: #0056b3;
    }

    .navigation {
        display: flex;
        justify-content: center;
        gap: 10px; /* Adjust the space between buttons */
        margin-top: 20px;
    }
</style>


<body>

<h2>Formulär</h2>
<form id="preferenceForm">
    <label for="name">Name:</label><br>
    <input type="text" id="name" name="name" required><br>

    <label for="watchMovie">Kolla film (1-10):</label><br>
    <input type="number" id="watchMovie" name="watchMovie" min="1" max="10" required><br>

    <label for="watchSeries">Kolla serier (1-10):</label><br>
    <input type="number" id="watchSeries" name="watchSeries" min="1" max="10" required><br>

    <label for="clean">Städa (1-10):</label><br>
    <input type="number" id="clean" name="clean" min="1" max="10" required><br>

    <label for="drink">Dricka (1-10):</label><br>
    <input type="number" id="drink" name="drink" min="1" max="10" required><br>

    <label for="workOut">Gymma (1-10):</label><br>
    <input type="number" id="workOut" name="workOut" min="1" max="10" required><br>

    <label for="bake">Baka (1-10):</label><br>
    <input type="number" id="bake" name="bake" min="1" max="10" required><br>

    <label for="eat">Äta mat (1-10):</label><br>
    <input type="number" id="eat" name="eat" min="1" max="10" required><br>

    <label for="party">Festa (1-10):</label><br>
    <input type="number" id="party" name="party" min="1" max="10" required><br>

    <label for="club">Klubba (1-10):</label><br>
    <input type="number" id="club" name="club" min="1" max="10" required><br>

    <label for="compete">Tävla (1-10):</label><br>
    <input type="number" id="compete" name="compete" min="1" max="10" required><br>

    <label for="nature">Vara i naturen (1-10):</label><br>
    <input type="number" id="nature" name="nature" min="1" max="10" required><br>

    <label for="cook">Laga mat (1-10):</label><br>
    <input type="number" id="cook" name="cook" min="1" max="10" required><br>

    <label for="smoke">Röka (1-10):</label><br>
    <input type="number" id="smoke" name="smoke" min="1" max="10" required><br>

    <label for="travel">Resa (1-10):</label><br>
    <input type="number" id="travel" name="travel" min="1" max="10" required><br>

    <label for="cats">Katter (1-10):</label><br>
    <input type="number" id="cats" name="cats" min="1" max="10" required><br>

    <label for="dogs">Hundar (1-10):</label><br>
    <input type="number" id="dogs" name="dogs" min="1" max="10" required><br>

    <label for="dance">Dansa (1-10):</label><br>
    <input type="number" id="dance" name="dance" min="1" max="10" required><br>

    <label for="stayUp">Vara uppe hela natten (1-10):</label><br>
    <input type="number" id="stayUp" name="stayUp" min="1" max="10" required><br>

    <label for="smokeWeed">Röka på (1-10):</label><br>
    <input type="number" id="smokeWeed" name="smokeWeed" min="1" max="10" required><br>

    <label for="boardGames">Sällskapsspel (1-10):</label><br>
    <input type="number" id="boardGames" name="boardGames" min="1" max="10" required><br>

    <label for="videoGames">TV/Datorspel (1-10):</label><br>
    <input type="number" id="videoGames" name="videoGames" min="1" max="10" required><br>

    <label for="school">Skolan (1-10):</label><br>
    <input type="number" id="school" name="school" min="1" max="10" required><br>

    <label for="realityTv">Reality-tv (1-10):</label><br>
    <input type="number" id="realityTv" name="realityTv" min="1" max="10" required><br>

    <label for="sex">Sex (1-10):</label><br>
    <input type="number" id="sex" name="sex" min="1" max="10" required><br>

    <label for="sportsActivities">Sporter/Aktiviteter (1-10):</label><br>
    <input type="number" id="sportsActivities" name="sportsActivities" min="1" max="10" required><br>

    <label for="watchSports">Titta på sport (1-10):</label><br>
    <input type="number" id="watchSports" name="watchSports" min="1" max="10" required><br>

    <label for="anime">Anime (1-10):</label><br>
    <input type="number" id="anime" name="anime" min="1" max="10" required><br>

    <label for="camping">Campa (1-10):</label><br>
    <input type="number" id="camping" name="camping" min="1" max="10" required><br>

    <label for="clothes">Kläder (1-10):</label><br>
    <input type="number" id="clothes" name="clothes" min="1" max="10" required><br>

    <input type="submit" value="Submit">
</form>

<a href="display.html">Hemsida</a>
<a href="home.html">Kompatibilitet</a>

<script>
document.getElementById('preferenceForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const formData = new FormData(event.target);
    const data = { preferences: {} };
    data.name = formData.get('name'); // Separate name from preferences
    formData.forEach((value, key) => {
        if (key !== 'name') { // Exclude 'name' from preferences object
            data.preferences[key] = value;
        }
    });

    // Replace 'http://localhost:3002/api/preferences' with your actual backend endpoint
    fetch('http://localhost:3002/people/add', { // Updated to match your Express route
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(data),
})
.then(response => {
    if (!response.ok) {
        throw new Error('Network response was not ok');
    }
    return response.json();
})
.then(data => {
    console.log('Success:', data);
    alert('Preferences submitted successfully!');
    // Optionally, redirect the user or give feedback here
})
.catch((error) => {
    console.error('Submitted:', error);
    alert('Potential partner submitted.');
});


    event.target.reset(); // Optionally, reset the form after submission
});
</script>

</body>
</html>
